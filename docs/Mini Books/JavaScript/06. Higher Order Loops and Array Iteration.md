
## Introduction to Higher Order Loops and Array Iteration

Iteration is one of the most common operations in programming. Whether you are processing data from an API, traversing objects, or handling user inputs, loops play a central role. JavaScript provides several loop constructs, but modern workflows often benefit from **higher order loops** that make code cleaner, safer, and easier to maintain.

## Moving Beyond Basic Loops

Before we step into higher order constructs, let’s quickly recap the basic loops:

```javascript
// for loop
for (let i = 0; i < 5; i++) {
  console.log(i);
}

// while loop
let count = 0;
while (count < 5) {
  console.log(count);
  count++;
}

// do...while loop
let score = 1;
do {
  console.log(score);
  score++;
} while (score <= 3);
```

These loops give you fine-grained control, but they also require manual handling of counters, conditions, and increments. As projects grow—especially when handling **database calls, API responses, or data rendering in frameworks like React**—this manual control becomes verbose and error-prone.

That’s where **higher order loops** shine. They abstract away the repetitive mechanics, letting you focus on what you want to do with the data rather than how to iterate through it.

In this chapter, we will explore three important iteration constructs:

- `for...in`
    
- `forEach`
    
- `for...of`
    

Each of these addresses specific scenarios and comes with unique strengths.

## The Importance of Iteration Context

JavaScript offers two widely used data structures: **Arrays** and **Objects**. Mastery of iteration depends on understanding how these structures behave.

- **Arrays** are ordered collections. Iterating through them is often about accessing values, one after another.
    
- **Objects** store data as key-value pairs. Iterating here typically means traversing through the keys to get to the values.
    

A very common real-world situation is working with **arrays of objects**. For example, fetching data from a database or an API often returns results in this format:

```javascript
const users = [
  { name: "Paritosh", role: "Data Scientist" },
  { name: "Amit", role: "Frontend Developer" },
  { name: "Riya", role: "Backend Engineer" }
];
```

Efficiently iterating over such structures—and extracting exactly what you need—is the key reason why higher order loops are so important.

---

# The `for...of` Loop

The `for...of` loop is one of the cleanest ways to iterate through iterable data structures in JavaScript. Unlike traditional loops, it eliminates the need to manage counters, conditions, and increments manually.

## Syntax and Design

The structure is straightforward:

```javascript
for (const element of iterable_object) {
  // action on each element
}
```

Key points:

- `element` acts as the iterator variable for each item in the collection.
    
- No counter or length management is required—the loop automatically takes care of traversal.
    

Example:

```javascript
const numbers = [10, 20, 30];

for (const num of numbers) {
  console.log(num);
}
// Output: 10, 20, 30
```

Here, the loop directly yields the values `10`, `20`, and `30`.

## Applicable Data Structures (Iterables)

The `for...of` loop works on **any iterable**, which includes arrays, strings, maps, sets, and more.

### Arrays

```javascript
const fruits = ["apple", "banana", "mango"];

for (const fruit of fruits) {
  console.log(fruit);
}
// Output: apple, banana, mango
```

### Strings

Strings are iterable, so you can use `for...of` to iterate over characters:

```javascript
const word = "Loop";

for (const char of word) {
  console.log(char);
}
// Output: L, o, o, p
```

### General Iterables

Any structure that implements the iterable protocol can be used with `for...of`.  
_(Important note: this does not include plain JavaScript objects, which are not iterable by default.)_

## Control Flow in `for...of`

The `for...of` loop supports the same control flow keywords as traditional loops:

- **`continue`**: Skip the current iteration.
    
- **`break`**: Exit the loop entirely.
    

Example:

```javascript
const scores = [55, 72, 90, 100];

for (const score of scores) {
  if (score < 60) continue;   // skip failing scores
  if (score === 100) break;   // stop at perfect score
  console.log(score);
}
// Output: 72, 90
```

---

This section establishes how `for...of` simplifies iteration when working with arrays, strings, and other iterable structures.

---

# Maps and Iteration with `for...of`

## Introduction to Map Data Structure

A **Map** in JavaScript is a collection of key-value pairs, much like an object. However, it comes with specific features that make it more predictable and powerful for certain use cases:

1. **Insertion Order Preserved**  
    Keys in a Map maintain the order in which they were inserted. This is unlike regular objects, where key order is not guaranteed.
    
2. **Unique Keys**  
    Each key in a Map must be unique. If you insert a duplicate key, the new value simply overwrites the old one.
    

Example:

```javascript
const countryMap = new Map();
countryMap.set("IN", "India");
countryMap.set("US", "United States");
countryMap.set("FR", "France");

console.log(countryMap);
// Output: Map(3) { 'IN' => 'India', 'US' => 'United States', 'FR' => 'France' }
```

## Iterating Maps using `for...of`

### Basic Iteration

When you iterate over a Map with a single variable, each iteration yields an **array containing both key and value**:

```javascript
for (const entry of countryMap) {
  console.log(entry);
}
// Output:
// [ 'IN', 'India' ]
// [ 'US', 'United States' ]
// [ 'FR', 'France' ]
```

### Destructuring for Direct Access

A more convenient way is to destructure each key-value pair directly in the loop:

```javascript
for (const [code, name] of countryMap) {
  console.log(`${code} : ${name}`);
}
// Output:
// IN : India
// US : United States
// FR : France
```

This approach makes iteration clean and readable.

## Limitation of `for...of`

A key point to remember:

- **Standard Objects are not iterable.**  
    You cannot directly use `for...of` on a plain object:
    

```javascript
const myObject = { a: 1, b: 2 };

// ❌ This will throw an error
for (const item of myObject) {
  console.log(item);
}
```

Objects need to be converted into an iterable (e.g., using `Object.keys()`, `Object.values()`, or `Object.entries()`) before they can be looped with `for...of`.

---

# The `for...in` Loop

## Purpose and Focus

The `for...in` loop is specifically designed for iterating over the **properties (keys)** of standard JavaScript objects. Unlike `for...of`, which deals with iterable values, `for...in` focuses on object keys.

## Object Iteration Mechanics

When applied to an object:

- Each iteration gives you a **key** (property name).
    
- To access the corresponding **value**, you use bracket notation with the object name and the key.
    

Example:

```javascript
const user = {
  name: "Paritosh",
  role: "Data Scientist",
  country: "India"
};

for (const key in user) {
  console.log(`${key} : ${user[key]}`);
}
// Output:
// name : Paritosh
// role : Data Scientist
// country : India
```

Here:

- `key` is the current property name (`name`, `role`, `country`).
    
- `user[key]` retrieves the corresponding value.
    

## Application and Differences on Arrays

When used on arrays, the `for...in` loop does **not** return values—it returns **indices** instead.

```javascript
const languages = ["JavaScript", "Python", "C++"];

for (const index in languages) {
  console.log(`${index} : ${languages[index]}`);
}
// Output:
// 0 : JavaScript
// 1 : Python
// 2 : C++
```

Key difference:

- `for...in` → returns **indices** when applied to arrays.
    
- `for...of` → returns the **actual values** from arrays.
    

## Limitation Check

The `for...in` loop does not effectively work with Maps. Running it on a Map produces no usable result:

```javascript
const map = new Map();
map.set("IN", "India");
map.set("US", "United States");

for (const key in map) {
  console.log(key);  // ❌ No output
}
```

Maps require `for...of` (not `for...in`) for proper iteration.

---

# The `forEach` Loop: A Higher Order Function for Arrays

## Context and Usage

The `forEach` loop is one of the most commonly used iteration methods when working with arrays in JavaScript.

- It is **not a standalone loop structure** like `for` or `while`.
    
- Instead, it is a **method** available on every array through the Array prototype.
    

This makes it easy to iterate through arrays without worrying about counters, conditions, or increments.

Example:

```javascript
const numbers = [1, 2, 3];

numbers.forEach(function(num) {
  console.log(num);
});
// Output: 1, 2, 3
```

## Understanding Higher Order Functions and Callbacks

- `forEach` is a **higher order function**, meaning it expects another function (a **callback**) as its argument.
    
- This callback defines the action to be performed on each element.
    
- The `forEach` method itself takes care of the mechanics—starting at index 0, stopping at the last index, and moving through each element.
    

In short: **you describe what to do**, and `forEach` handles **how to do it**.

## Syntax Variations for the Callback

There are multiple ways to pass the callback function:

### 1. Traditional Function

```javascript
const fruits = ["apple", "banana", "mango"];

fruits.forEach(function(item) {
  console.log(item);
});
// Output: apple, banana, mango
```

### 2. Arrow Function

```javascript
fruits.forEach((item) => {
  console.log(item);
});
// Output: apple, banana, mango
```

### 3. Function Reference

You can also pass a reference to a pre-defined function:

```javascript
function printItem(item) {
  console.log(item);
}

fruits.forEach(printItem);
// Output: apple, banana, mango
```

Notice that we pass the function name **without parentheses** (`printItem`, not `printItem()`), because `forEach` calls it internally for each element.

## Parameters of the `forEach` Callback

The callback function in `forEach` can receive up to **three parameters**, in this order:

1. **Item (value)** – the element at the current iteration.
    
2. **Index** – the position of the element in the array.
    
3. **Array** – the full array itself.
    

Example:

```javascript
const languages = ["JavaScript", "Python", "C++"];

languages.forEach((lang, index, arr) => {
  console.log(`${index} → ${lang} (from [${arr}])`);
});
// Output:
// 0 → JavaScript (from [JavaScript,Python,C++])
// 1 → Python (from [JavaScript,Python,C++])
// 2 → C++ (from [JavaScript,Python,C++])
```

This flexibility makes `forEach` especially useful when you need both values and indices, or when debugging with access to the entire array.

---

# Advanced Application: Iterating Arrays of Objects using `forEach`

## The Common Real-World Scenario

In practice, data often comes from a **database** or an **API** in the form of an **array of objects**.  
Each object represents a record, and the array groups multiple such records.

Example: An array of mobile phone objects.

```javascript
const mobiles = [
  { brand: "Apple", model: "iPhone 15", price: 80000, billing: "Monthly" },
  { brand: "Samsung", model: "Galaxy S23", price: 70000, billing: "EMI" },
  { brand: "OnePlus", model: "11 Pro", price: 60000, billing: "Full Payment" }
];
```

Here:

- The array `mobiles` contains multiple objects.
    
- Each object has properties like `brand`, `model`, `price`, and `billing`.
    

## Accessing Nested Properties

To process such data, `forEach` is particularly useful.

1. Apply `forEach` on the array.
    
2. The callback function automatically receives each object (commonly named `item`).
    
3. Access the required property using **dot notation**.
    

Example:

```javascript
mobiles.forEach((item) => {
  console.log(`${item.brand} ${item.model} → ₹${item.price} (${item.billing})`);
});
// Output:
// Apple iPhone 15 → ₹80000 (Monthly)
// Samsung Galaxy S23 → ₹70000 (EMI)
// OnePlus 11 Pro → ₹60000 (Full Payment)
```

This approach makes it simple to:

- Extract specific fields.
    
- Format data for display.
    
- Traverse nested structures without writing additional loops or counters.
    

---

# Conclusion

## Summary of Iteration Tools

We’ve now explored the three higher order loop constructs in JavaScript and their applications:

- **`for...in`** → Best suited for iterating over the **keys** of an object.
    
- **`for...of`** → Designed for **iterables** like arrays, strings, and maps, returning values directly.
    
- **`forEach`** → A higher order function built into arrays, excellent for applying a callback to each element, with access to item, index, and the full array.
    

A very common real-world scenario is handling arrays of objects, especially when data is fetched from APIs or databases. In such cases, `forEach` provides a clean, declarative way to work with data, while `for...of` offers simplicity for values, and `for...in` ensures object keys are accessible.

## Looking Ahead

The natural next step is to explore **array transformation methods** such as `map()`, `filter()`, and `reduce()`. These not only iterate but also **transform and produce new arrays or values**, which makes them indispensable in modern JavaScript development.

---

# Exercises

1. **Iterating Values with `for...of`**  
    Write a `for...of` loop to print each character in the string `"JavaScript"`.
    
2. **Object Traversal with `for...in`**  
    Given the object:
    
    ```javascript
    const car = { brand: "Tesla", model: "Model 3", year: 2024 };
    ```
    
    Use a `for...in` loop to print both keys and their corresponding values.
    
3. **Map Iteration**  
    Create a Map of three countries with their country codes. Use destructuring in a `for...of` loop to print them in the format: `Code → Country`.
    
4. **Using `forEach` with Arrays**  
    Given the array `[5, 10, 15]`, use `forEach` to print each value doubled.
    
5. **Iterating an Array of Objects**  
    Suppose you have:
    
    ```javascript
    const books = [
      { title: "Eloquent JavaScript", author: "Marijn Haverbeke" },
      { title: "You Don’t Know JS", author: "Kyle Simpson" }
    ];
    ```
    
    Use `forEach` to print:  
    `"Eloquent JavaScript by Marijn Haverbeke"` and  
    `"You Don’t Know JS by Kyle Simpson"`.
    

---
